/* ==========================================================================
   TABLE OF CONTENTS
   1. CSS Variables (Custom Properties)
   2. Base Styles
   3. Typography
   4. Layout Components
   5. Color Themes
   6. Components
   7. Utilities
   8. Media Queries
   9. Accessibility
   ========================================================================== */

/* ==========================================================================
   1. CSS Variables (Custom Properties)
   ========================================================================== */
:root {
    /* Colors */
    --ias-blue: #003366; /* Deep blue */
    --ias-light-blue: #f0f0f0; /* Light gray */
    --ias-teal: #008080; /* Teal */
    --ias-gold: #8a6100; /* Darker gold for better contrast (WCAG AA) */
    --white: #ffffff;
    --black: #000000;
    --gray-100: #f7f7f7; /* Lightest gray */
    --gray-200: #e5e7eb; /* Lighter gray */
    --gray-300: #d1d5db; /* Light gray */
    --gray-400: #9ca3af; /* Medium gray */
    --gray-600: #4b5563; /* Darker gray */
    --gray-700: #374151; /* Even darker gray */
    --gray-800: #1f2937; /* Dark gray */
    --red-600: #dc2626; /* For video play button */

    /* Typography */
    --font-primary: 'Lora', Georgia, serif;
    --font-heading: 'Playfair Display', 'Times New Roman', serif;
    --font-size-sm: 0.875rem; /* 14px */
    --font-size-base: 1rem;    /* 16px */
    --font-size-lg: 1.125rem;  /* 18px */
    --font-size-xl: 1.25rem;  /* 20px */
    --font-size-2xl: 1.5rem;  /* 24px */
    --font-size-3xl: 1.875rem; /* 30px */
    --font-size-4xl: 2.25rem; /* 36px */

    /* Spacing Scale (based on Tailwind defaults) */
    --spacing-0: 0;
    --spacing-px: 1px;
    --spacing-0-5: 0.125rem; /* 2px */
    --spacing-1: 0.25rem;   /* 4px */
    --spacing-1-5: 0.375rem; /* 6px */
    --spacing-2: 0.5rem;    /* 8px */
    --spacing-2-5: 0.625rem; /* 10px */
    --spacing-3: 0.75rem;   /* 12px */
    --spacing-3-5: 0.875rem; /* 14px */
    --spacing-4: 1rem;      /* 16px */
    --spacing-5: 1.25rem;   /* 20px */
    --spacing-6: 1.5rem;    /* 24px */
    --spacing-7: 1.75rem;   /* 28px */
    --spacing-8: 2rem;      /* 32px */
    --spacing-9: 2.25rem;   /* 36px */
    --spacing-10: 2.5rem;   /* 40px */
    --spacing-11: 2.75rem;  /* 44px */
    --spacing-12: 3rem;     /* 48px */
    --spacing-14: 3.5rem;   /* 56px */
    --spacing-16: 4rem;     /* 64px */
    --spacing-20: 5rem;     /* 80px */
    --spacing-24: 6rem;     /* 96px */
    --spacing-28: 7rem;     /* 112px */
    --spacing-32: 8rem;     /* 128px */
    --spacing-36: 9rem;     /* 144px */
    --spacing-40: 10rem;    /* 160px */
    --spacing-44: 11rem;    /* 176px */
    --spacing-48: 12rem;    /* 192px */
    --spacing-52: 13rem;    /* 208px */
    --spacing-56: 14rem;    /* 224px */
    --spacing-60: 15rem;    /* 240px */
    --spacing-64: 16rem;    /* 256px */
    --spacing-72: 18rem;    /* 288px */
    --spacing-80: 20rem;    /* 320px */
    --spacing-96: 24rem;    /* 384px */

    /* Layout */
    --container-max-width: 1200px;
    --border-radius-sm: 0.25rem;
    --border-radius-md: 0.5rem;
    --border-radius-lg: 1rem;
    --border-radius-full: 9999px;

    /* Transitions */
    --transition-fast: 0.2s ease-in-out;
    --transition-medium: 0.3s ease-in-out;

    /* Shadows */
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
    --shadow-text: 2px 2px 4px rgba(0, 0, 0, 0.5);

    /* Z-index Scale */
    --z-base: 1;
    --z-dropdown: 10;
    --z-sticky: 100;
    --z-fixed: 1000;
    --z-modal: 10000;
}

/* ==========================================================================
   2. Base Styles
   ========================================================================== */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
    font-size: 100%; /* Base font size */
}

body {
    font-family: var(--font-primary);
    line-height: 1.6;
    color: var(--gray-800);
    background-color: var(--gray-100); /* Use gray-100 from variables */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

img {
    max-width: 100%;
    height: auto;
    display: block;
}

/* Basic button reset */
button {
    background: none;
    color: inherit;
    border: none;
    padding: 0;
    font: inherit;
    cursor: pointer;
    outline: inherit;
}


/* ==========================================================================
   3. Typography
   ========================================================================== */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: var(--spacing-md);
}

h1 {
    font-size: var(--font-size-4xl);
}

h2 {
    font-size: var(--font-size-3xl);
}

h3 {
    font-size: var(--font-size-2xl);
}

p {
    margin-bottom: var(--spacing-md);
}

a {
    color: var(--ias-blue);
    text-decoration: none; /* Remove default underline */
    transition: color var(--transition-fast), text-decoration var(--transition-fast);
}

a:hover, a:focus-visible {
    color: var(--ias-teal);
    text-decoration: underline; /* Add underline on hover/focus */
}

/* ==========================================================================
   4. Layout Components
   ========================================================================== */
.container {
    width: 100%;
    max-width: var(--container-max-width);
    margin: 0 auto;
    padding: 0 var(--spacing-md);
}

/* ==========================================================================
   5. Color Themes
   ========================================================================== */
.ias-blue-bg {
    background-color: var(--ias-blue);
    color: var(--white);
}

.ias-light-blue-bg {
    background-color: var(--ias-light-blue);
}

.ias-teal-bg {
    background-color: var(--ias-teal);
    color: var(--white);
}

.ias-gold-text {
    color: var(--ias-gold);
}

/* ==========================================================================
   6. Components
   ========================================================================== */
/* Header */
.site-header {
    background-color: var(--ias-blue); /* Use color variable */
    color: var(--white); /* Use color variable */
    padding: var(--spacing-md) 0;
}

.site-header-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
}

.site-branding {
    display: flex;
    align-items: center;
    flex-wrap: wrap; /* Allow wrapping for logo and titles */
    margin-right: var(--spacing-6); /* Add space between branding and right section */
}

.site-logo-link {
     display: flex;
     align-items: center;
     text-decoration: none; /* Remove underline from logo link */
     color: inherit;
     margin-right: var(--spacing-6); /* Space between logo and university title */
}

.site-logo-img {
    width: var(--spacing-10); /* Use spacing variable */
    height: var(--spacing-10); /* Use spacing variable */
    border-radius: var(--border-radius-full); /* Use border radius variable */
    margin-right: var(--spacing-3); /* Use spacing variable */
}

.site-title {
    font-size: var(--font-size-xl); /* Use font size variable */
    font-weight: 700;
    white-space: nowrap; /* Prevent wrapping */
}

.dept-title {
    font-size: var(--font-size-lg); /* Use font size variable */
    white-space: nowrap; /* Prevent wrapping */
}

.header-right {
    display: flex;
    align-items: center;
    /* Allows the right section to take up remaining space and wrap */
    flex-grow: 1;
    justify-content: flex-end; /* Align items to the right */
    gap: var(--spacing-4); /* Add space between nav/button and search */
}

/* Desktop Navigation */
.main-nav ul {
    display: flex;
    list-style: none;
    gap: var(--spacing-6); /* Use spacing variable */
    font-size: var(--font-size-sm); /* Use font size variable */
    padding: 0; /* Remove default padding */
    margin: 0; /* Remove default margin */
}

.main-nav a {
    color: inherit; /* Inherit color from parent (white) */
    text-decoration: none;
    transition: opacity var(--transition-fast); /* Subtle hover effect */
    display: block; /* Make links block for padding/hover area */
    padding: var(--spacing-2) var(--spacing-3); /* Add padding to nav links */
}

.main-nav a:hover, .main-nav a:focus-visible {
    opacity: 0.8;
    text-decoration: underline;
}

/* Desktop Dropdown */
.dropdown {
    position: relative;
}

.dropdown-menu {
    /* Initially hide dropdowns and set up for transition */
    display: block; /* Use block for transition */
    visibility: hidden;
    opacity: 0;
    max-height: 0; /* Start with max-height 0 for slide-down effect */
    overflow: hidden; /* Hide overflow during transition */

    position: absolute;
    top: 100%; /* Position below the parent link */
    left: 0;
    background-color: var(--ias-blue); /* Use color variable */
    box-shadow: var(--shadow-md); /* Use shadow variable */
    z-index: var(--z-dropdown); /* Use z-index variable */
    min-width: 160px; /* Adjust as needed */
    padding: var(--spacing-2) 0; /* Use spacing variable */
    list-style: none;
    border-radius: var(--border-radius-sm); /* Use border radius variable */
    transition: opacity var(--transition-medium), visibility var(--transition-medium), max-height var(--transition-medium) ease-in-out; /* Add transitions */
}

/* State for showing dropdown */
.dropdown-menu.show {
    visibility: visible;
    opacity: 1;
    max-height: 500px; /* Set a max-height large enough to fit content for slide-down */
}

/* Show on hover for non-touch devices and when not using click (JS fallback) */
/* Using a media query to target non-touch devices is complex, simpler to rely on JS for click */
/* and keep hover for pointer devices where :hover is reliable */
@media (hover: hover) and (pointer: fine) {
    .dropdown:hover .dropdown-menu {
        visibility: visible;
        opacity: 1;
        max-height: 500px; /* Match the max-height for hover */
    }
}


.dropdown-menu li a {
    padding: var(--spacing-1) var(--spacing-3); /* Padding for dropdown items */
    color: var(--white); /* Ensure dropdown links are white */
    display: block; /* Make links block for padding/hover area */
    font-size: var(--font-size-sm); /* Use small font size for dropdown items */
    transition: background-color var(--transition-fast); /* Subtle hover effect */
}

.dropdown-menu li a:hover, .dropdown-menu li a:focus-visible {
    background-color: rgba(255, 255, 255, 0.1); /* Subtle background on hover */
    text-decoration: none; /* Remove underline on hover for dropdown items */
}


/* Mobile Menu */
.mobile-nav {
    background-color: var(--ias-blue); /* Use color variable */
    padding: var(--spacing-4) var(--spacing-md); /* Use spacing variable */
    transition: max-height var(--transition-medium) ease-in-out, opacity var(--transition-medium); /* Add transition */
    overflow: hidden; /* Hide overflow during transition */
    max-height: 500px; /* Set a max-height for slide-down effect */
    opacity: 1; /* Start with opacity 1 */
}

.mobile-menu-hidden {
    max-height: 0; /* Collapse the menu */
    opacity: 0; /* Fade out */
    padding-top: 0;
    padding-bottom: 0;
}

.mobile-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.mobile-nav li {
    border-bottom: 1px solid rgba(255, 255, 255, 0.2); /* Separator */
}

.mobile-nav li:last-child {
    border-bottom: none;
}

.mobile-nav a {
    display: block;
    padding: var(--spacing-3) 0; /* Use spacing variable */
    color: var(--white); /* Use color variable */
    text-decoration: none;
    font-size: var(--font-size-base); /* Use base font size */
    transition: opacity var(--transition-fast);
}

.mobile-nav a:hover, .mobile-nav a:focus-visible {
    opacity: 0.8;
}

/* Mobile Dropdown */
.mobile-dropdown ul {
    /* Initially hide mobile dropdowns */
    max-height: 0;
    overflow: hidden;
    transition: max-height var(--transition-medium) ease-in-out; /* Add transition */
    padding-left: var(--spacing-4); /* Indent submenu items */
    background-color: rgba(0, 0, 0, 0.1); /* Slightly darker background for submenu */
}

.mobile-dropdown.open ul {
    max-height: 500px; /* Set a max-height large enough to fit content */
}

.mobile-dropdown ul li {
    border-bottom: none; /* Remove separator in submenus */
}

.mobile-dropdown ul li a {
    padding: var(--spacing-2) 0; /* Smaller padding for submenu items */
    font-size: var(--font-size-sm); /* Smaller font size for submenu items */
}


/* Mobile Menu Button */
.mobile-menu-button {
    display: flex; /* Use flex to center SVG */
    align-items: center;
    justify-content: center;
    color: var(--white); /* Use color variable */
    width: var(--spacing-10); /* Use spacing variable */
    height: var(--spacing-10); /* Use spacing variable */
    border-radius: var(--border-radius-sm); /* Use border radius variable */
    transition: background-color var(--transition-fast);
    background-color: var(--ias-teal); /* Add background for visibility */
    margin-left: auto; /* Push button to the right on mobile */
}

.mobile-menu-button:hover, .mobile-menu-button:focus-visible {
    background-color: rgba(0, 128, 128, 0.8); /* Darker teal on hover */
}


/* Search Form */
.search-form {
    display: flex;
    align-items: center;
    gap: var(--spacing-2); /* Use spacing variable */
}

.search-form input[type="text"] {
    padding: var(--spacing-2) var(--spacing-3); /* Use spacing variable */
    border: 1px solid var(--gray-300); /* Use color variable */
    border-radius: var(--border-radius-sm); /* Use border radius variable */
    font-size: var(--font-size-sm); /* Use small font size */
    outline: none;
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.search-form input[type="text"]:focus {
    border-color: var(--ias-teal); /* Use color variable */
    box-shadow: 0 0 0 2px rgba(0, 128, 128, 0.2); /* Subtle focus ring */
}

.search-form .button {
    padding: var(--spacing-2) var(--spacing-4); /* Use spacing variable */
    border-radius: var(--border-radius-sm); /* Use border radius variable */
    font-size: var(--font-size-sm); /* Use small font size */
    font-weight: 600;
    text-transform: uppercase;
    transition: opacity var(--transition-fast);
}

.search-form .button:hover, .search-form .button:focus-visible {
    opacity: 0.9;
}


/* Hero Section */
.hero-section {
    background-image: url('MathDepartment.jpg'); /* Use image */
    background-size: cover;
    background-position: center;
    color: var(--white); /* Use color variable */
    text-shadow: var(--shadow-text); /* Use text shadow variable */
    padding: var(--spacing-48) 0; /* Use spacing variable */
    text-align: center;
}

.hero-dept-name {
    font-family: var(--font-heading);
    font-size: var(--font-size-4xl); /* Use large font size */
    font-weight: 700;
}


/* Main Content */
.main-content {
    padding: var(--spacing-8) var(--spacing-md); /* Use spacing variable */
}

/* Event Card */
.event-card {
    background-color: var(--white); /* Use color variable */
    border: 1px solid var(--gray-200); /* Use color variable */
    border-radius: var(--border-radius-md); /* Use border radius variable */
    padding: var(--spacing-4); /* Use spacing variable */
    box-shadow: var(--shadow-sm); /* Use shadow variable */
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.event-card:hover {
    transform: translateY(-5px); /* Subtle lift effect */
    box-shadow: var(--shadow-md); /* Use shadow variable */
}

.event-card a {
    display: block; /* Make the whole card clickable */
    color: inherit; /* Inherit text color */
    text-decoration: none; /* Remove underline */
}

.event-card h3 {
    margin-top: 0; /* Remove top margin */
    margin-bottom: var(--spacing-1); /* Smaller bottom margin */
    color: var(--ias-blue); /* Use color variable */
}

.event-card p {
    margin-bottom: var(--spacing-1); /* Smaller bottom margin */
}

.event-card p:last-child {
    margin-bottom: 0; /* Remove bottom margin for last paragraph */
}


/* Footer */
.site-footer {
    padding: var(--spacing-8) 0; /* Use spacing variable */
    font-size: var(--font-size-sm); /* Use small font size */
}

.footer-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive grid */
    gap: var(--spacing-8); /* Use spacing variable */
    margin-bottom: var(--spacing-8); /* Use spacing variable */
}

.footer-about p {
    margin-bottom: 0; /* Remove bottom margin */
}

.footer-nav-section h3,
.footer-contact h3 {
    margin-bottom: var(--spacing-4); /* Use spacing variable */
    color: var(--ias-gold); /* Use color variable */
}

.footer-links {
    list-style: none;
    padding: 0;
    margin: 0;
}

.footer-links li {
    margin-bottom: var(--spacing-2); /* Use spacing variable */
}

.footer-links a {
    color: var(--white); /* Use color variable */
    text-decoration: none;
    transition: opacity var(--transition-fast);
}

.footer-links a:hover, .footer-links a:focus-visible {
    opacity: 0.8;
    text-decoration: underline;
}

.footer-contact p {
    margin-bottom: var(--spacing-2); /* Use spacing variable */
}

.footer-contact a {
    color: var(--white); /* Use color variable */
    text-decoration: underline; /* Keep underline for contact links */
}

.footer-contact a:hover, .footer-contact a:focus-visible {
    color: var(--ias-gold); /* Use color variable */
}

.footer-bottom {
    text-align: center;
    border-top: 1px solid rgba(255, 255, 255, 0.2); /* Separator */
    padding-top: var(--spacing-4); /* Use spacing variable */
    margin-top: var(--spacing-4); /* Use spacing variable */
    color: rgba(255, 255, 255, 0.8); /* Slightly less opaque text */
}


/* ==========================================================================
   7. Utilities
   ========================================================================== */
.hidden {
    display: none !important;
}

.md\:block {
    display: none !important;
}

@media (min-width: 768px) { /* md breakpoint */
    .md\:block {
        display: block !important;
    }
    .md\:hidden {
        display: none !important;
    }
    .md\:col-span-1 {
        grid-column: span 1 / span 1;
    }
    .md\:col-span-2 {
        grid-column: span 2 / span 2;
    }
    .md\:grid-cols-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}


/* Skip Link for Accessibility */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background-color: var(--ias-teal); /* Use color variable */
    color: var(--white); /* Use color variable */
    padding: var(--spacing-2) var(--spacing-3); /* Use spacing variable */
    z-index: var(--z-fixed); /* Use z-index variable */
    transition: top var(--transition-medium) ease-in-out;
}

.skip-link:focus {
    top: 0;
}


/* ==========================================================================
   8. Media Queries
   ========================================================================== */
/* (Already included in Utilities for md breakpoint and above) */


/* ==========================================================================
   9. Accessibility
   ========================================================================== */
/* (Already included ARIA attributes in HTML and skip link) */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Print styles */
@media print {
    .hero-section {
        background-image: none;
        color: var(--black); /* Ensure text is black for printing */
        text-shadow: none;
    }

    a {
        text-decoration: underline;
        color: var(--black); /* Ensure links are black for printing */
    }

    /* Hide elements not needed for print */
    .site-header,
    .footer-nav-section,
    .site-footer,
    .mobile-menu-button,
    .search-form {
        display: none !important;
    }

    /* Ensure main content is visible */
    .main-content {
        display: block !important;
        width: auto !important;
        margin: 0 !important;
        padding: var(--spacing-md) !important;
    }

    /* Adjust grid layout for print */
    .main-content .grid {
        grid-template-columns: 1fr !important;
        gap: var(--spacing-md) !important;
    }

    img {
        max-width: 50% !important; /* Reduce image size for print */
        margin: 0 auto !important; /* Center images */
    }

    h1, h2, h3 {
        page-break-after: avoid; /* Avoid page breaks after headings */
    }
}
